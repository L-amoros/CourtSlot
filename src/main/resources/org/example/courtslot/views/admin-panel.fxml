<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane styleClass="root"
            stylesheets="@../styles/homepage.css"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.courtslot.controller.AdminPanelController">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="16" styleClass="navbar">
            <Button styleClass="btn-back" text="â† Volver"
                    onAction="#onVolver"
                    mnemonicParsing="false"
                    accessibleText="Volver al homepage" />
            <Label styleClass="brand" text="CourtSlot Â· Panel Admin" />
        </HBox>
    </top>

    <center>
        <TabPane styleClass="tab-pane" tabClosingPolicy="UNAVAILABLE">

            <!-- â•â•â•â•â•â•â•â•â•â• TAB PISTAS â•â•â•â•â•â•â•â•â•â• -->
            <Tab text="ðŸŸï¸ Pistas" >
                <VBox spacing="16" styleClass="content">

                    <!-- Tabla de pistas -->
                    <TableView fx:id="pistasTable"
                               prefHeight="300"
                               styleClass="table-view"
                               accessibleText="Tabla de pistas registradas">
                        <columns>
                            <TableColumn fx:id="colPistaNombre" text="Nombre" prefWidth="200" />
                            <TableColumn fx:id="colPistaDeporte" text="Deporte" prefWidth="200" />
                            <TableColumn fx:id="colPistaDesc" text="Descripcion" prefWidth="200" />
                            <TableColumn fx:id="colPistaPrecio" text="Precio/h" prefWidth="150" />
                            <TableColumn fx:id="colPistaActiva" text="Estado" prefWidth="150" />
                        </columns>
                    </TableView>

                    <!-- Formulario -->
                    <TitledPane text="âž• Nueva / Editar Pista" styleClass="form-pane" expanded="true">
                        <GridPane hgap="14" vgap="12" styleClass="form-grid">
                            <Label text="Nombre:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="field-label" />
                            <TextField fx:id="pistaNombreField" promptText="Ej: Pista Tenis 1"
                                       GridPane.rowIndex="0" GridPane.columnIndex="1"
                                       styleClass="input-field" prefWidth="240"
                                       accessibleText="Nombre de la pista" />

                            <Label text="DescripciÃ³n:" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="field-label" />
                            <TextField fx:id="pistaDescField" promptText="DescripciÃ³n opcional"
                                       GridPane.rowIndex="1" GridPane.columnIndex="1"
                                       styleClass="input-field" prefWidth="240" />

                            <Label text="Precio/hora (â‚¬):" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="field-label" />
                            <TextField fx:id="pistaPrecioField" promptText="Ej: 15.00"
                                       GridPane.rowIndex="2" GridPane.columnIndex="1"
                                       styleClass="input-field"
                                       accessibleText="Precio por hora en euros" />

                            <Label text="Imagen (archivo):" GridPane.rowIndex="3" GridPane.columnIndex="0" styleClass="field-label" />
                            <TextField fx:id="pistaImagenField" promptText="tenis.png"
                                       GridPane.rowIndex="3" GridPane.columnIndex="1"
                                       styleClass="input-field" />

                            <Label text="Deporte:" GridPane.rowIndex="4" GridPane.columnIndex="0" styleClass="field-label" />
                            <ComboBox fx:id="pistaDeporteCombo"
                                      GridPane.rowIndex="4" GridPane.columnIndex="1"
                                      prefWidth="240"
                                      accessibleText="Seleccionar deporte de la pista" />
                        </GridPane>
                    </TitledPane>

                    <Label fx:id="pistaErrorLabel" styleClass="error-label" wrapText="true" />

                    <HBox spacing="12">
                        <Button fx:id="pistaSaveBtn"
                                text="ðŸ’¾ Guardar Pista"
                                styleClass="btn-primary"
                                onAction="#onGuardarPista"
                                prefHeight="40"
                                accessibleText="Guardar pista"
                                mnemonicParsing="false" />
                        <Button text="ðŸ—‘ï¸ Eliminar Pista"
                                styleClass="btn-danger"
                                onAction="#onEliminarPista"
                                prefHeight="40"
                                accessibleText="Eliminar pista seleccionada"
                                mnemonicParsing="false" />
                    </HBox>

                </VBox>
            </Tab>

            <!-- â•â•â•â•â•â•â•â•â•â• TAB DEPORTES â•â•â•â•â•â•â•â•â•â• -->
            <Tab text="âš½ Deportes">
                <VBox spacing="16" styleClass="content">

                    <TableView fx:id="deportesTable"
                               prefHeight="280"
                               styleClass="table-view">
                        <columns>
                            <TableColumn fx:id="colDeporteNombre" text="Nombre" prefWidth="200" />
                            <TableColumn fx:id="colDeporteDesc" text="DescripciÃ³n" prefWidth="350" />
                            <TableColumn fx:id="colDeporteEstado" text="Estado" prefWidth="350" />
                        </columns>
                    </TableView>

                    <TitledPane text="âž• Nuevo Deporte" styleClass="form-pane" expanded="true">
                        <GridPane hgap="14" vgap="12" styleClass="form-grid">
                            <Label text="Nombre:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="field-label" />
                            <TextField fx:id="deporteNombreField" promptText="Ej: PÃ¡del"
                                       GridPane.rowIndex="0" GridPane.columnIndex="1"
                                       styleClass="input-field" prefWidth="240"
                                       accessibleText="Nombre del deporte" />

                            <Label text="DescripciÃ³n:" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="field-label" />
                            <TextField fx:id="deporteDescField" promptText="DescripciÃ³n opcional"
                                       GridPane.rowIndex="1" GridPane.columnIndex="1"
                                       styleClass="input-field" prefWidth="240" />
                        </GridPane>
                    </TitledPane>

                    <Label fx:id="deporteErrorLabel" styleClass="error-label" wrapText="true" />

                    <HBox spacing="12">
                        <Button fx:id="deporteSaveBtn"
                                text="ðŸ’¾ Guardar Deporte"
                                styleClass="btn-primary"
                                onAction="#onGuardarDeporte"
                                prefHeight="40"
                                mnemonicParsing="false"
                                accessibleText="Guardar deporte" />
                        <Button text="ðŸ—‘ï¸ Eliminar Deporte"
                                styleClass="btn-danger"
                                onAction="#onEliminarDeporte"
                                prefHeight="40"
                                mnemonicParsing="false"
                                accessibleText="Eliminar deporte seleccionado" />
                    </HBox>

                </VBox>
            </Tab>

            <!-- â•â•â•â•â•â•â•â•â•â• TAB RESERVAS â•â•â•â•â•â•â•â•â•â• -->
            <Tab text="ðŸ“‹ Todas las Reservas">
                <VBox spacing="16" styleClass="content">


                </VBox>
            </Tab>

        </TabPane>
    </center>

</BorderPane>
